{"is_source_file": true, "format": "JavaScript", "description": "This file sets up an HTTP server and a WebSocket server for a polling application, including connection handling and graceful shutdown procedures.", "external_files": ["./app", "./controllers/poll"], "external_methods": ["require", "createServer", "pollController.wsHandler", "httpServer.listen", "console.log", "process.on", "httpServer.close", "process.exit"], "published": ["httpServer"], "classes": [], "methods": [{"name": "ws.on", "description": "Handles WebSocket connection event by delegating to pollController.wsHandler."}, {"name": "httpServer.listen", "description": "Starts the HTTP server listening on specified HOST and PORT."}, {"name": "process.on", "description": "Registers a handler for the SIGTERM signal to gracefully shut down the server."}, {"name": "httpServer.close", "description": "Closes the HTTP server during shutdown."}], "calls": ["require('./app')", "require('http').createServer", "new WebSocket.Server", "wss.on('connection')", "pollController.wsHandler", "httpServer.listen", "console.log", "process.on('SIGTERM')", "httpServer.close", "process.exit(0)"], "search-terms": ["WebSocket", "poll", "server.js", "graceful shutdown", "HTTP server", "pollController"], "state": 2, "file_id": 6, "knowledge_revision": 36, "git_revision": "2fe2913a35f90ff67ec8de5e711638c2fe1ed3e6", "revision_history": [{"25": "2fe2913a35f90ff67ec8de5e711638c2fe1ed3e6"}, {"36": "2fe2913a35f90ff67ec8de5e711638c2fe1ed3e6"}], "ctags": [{"_type": "tag", "name": "HOST", "path": "/home/kavia/workspace/code-generation/quickpoll-9770c8a4/backend_inmemory_poll_service/src/server.js", "pattern": "/^const HOST = process.env.HOST || '0.0.0.0';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "PORT", "path": "/home/kavia/workspace/code-generation/quickpoll-9770c8a4/backend_inmemory_poll_service/src/server.js", "pattern": "/^const PORT = process.env.PORT || 3000;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "WebSocket", "path": "/home/kavia/workspace/code-generation/quickpoll-9770c8a4/backend_inmemory_poll_service/src/server.js", "pattern": "/^const WebSocket = require('ws');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/quickpoll-9770c8a4/backend_inmemory_poll_service/src/server.js", "pattern": "/^const app = require('.\\/app');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "httpServer", "path": "/home/kavia/workspace/code-generation/quickpoll-9770c8a4/backend_inmemory_poll_service/src/server.js", "pattern": "/^const httpServer = createServer(app);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "pollController", "path": "/home/kavia/workspace/code-generation/quickpoll-9770c8a4/backend_inmemory_poll_service/src/server.js", "pattern": "/^const pollController = require('.\\/controllers\\/poll');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "wss", "path": "/home/kavia/workspace/code-generation/quickpoll-9770c8a4/backend_inmemory_poll_service/src/server.js", "pattern": "/^const wss = new WebSocket.Server({ server: httpServer, path: '\\/polls\\/live' });$/", "language": "JavaScript", "kind": "constant"}], "hash": "4823da3528c86c761f653e8e0f976f61", "format-version": 4, "code-base-name": "backend_inmemory_poll_service", "filename": "backend_inmemory_poll_service/src/server.js"}